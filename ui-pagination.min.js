angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function(t,e,a,i){var n=this,r={$setViewValue:angular.noop},o=e.numPages?a(e.numPages).assign:angular.noop;this.init=function(i,o){r=i,r.$render=function(){n.render()},e.itemsPerPage?t.$parent.$watch(a(e.itemsPerPage),function(e){n.itemsPerPage=parseInt(e,10),t.totalPages=n.calculateTotalPages()}):this.itemsPerPage=o},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===t.totalPages},this.isActive=function(t){return this.page===t},this.calculateTotalPages=function(){var e=this.itemsPerPage<1?1:Math.ceil(t.totalItems/this.itemsPerPage);return Math.max(e||0,1)},this.getAttributeValue=function(e,a,n){return angular.isDefined(e)?n?i(e)(t.$parent):t.$parent.$eval(e):a},this.render=function(){this.page=parseInt(r.$viewValue,10)||1,this.page>0&&this.page<=t.totalPages&&(t.pages=this.getPages(this.page,t.totalPages))},t.selectPage=function(e){!n.isActive(e)&&e>0&&e<=t.totalPages&&(r.$setViewValue(e),r.$render())},t.$watch("page",function(){n.render()}),t.$watch("totalItems",function(){t.totalPages=n.calculateTotalPages()}),t.$watch("totalPages",function(e){o(t.$parent,e),n.page>e?t.selectPage(e):r.$render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function(t,e){return{restrict:"EA",scope:{totalItems:"="},require:["pagination","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(a,i,n,r){function o(t,e,a,i){return{number:t,text:e,active:a,disabled:i}}var s=r[0],u=r[1];if(u){var g,l=s.getAttributeValue(n.boundaryLinks,e.boundaryLinks),c=s.getAttributeValue(n.directionLinks,e.directionLinks),p=s.getAttributeValue(n.firstText,e.firstText,!0),P=s.getAttributeValue(n.previousText,e.previousText,!0),f=s.getAttributeValue(n.nextText,e.nextText,!0),h=s.getAttributeValue(n.lastText,e.lastText,!0),x=s.getAttributeValue(n.rotate,e.rotate);s.init(u,e.itemsPerPage),n.maxSize&&a.$parent.$watch(t(n.maxSize),function(t){g=parseInt(t,10),s.render()}),s.getPages=function(t,e){var a=[],i=1,n=e,r=angular.isDefined(g)&&e>g;r&&(x?(i=Math.max(t-Math.floor(g/2),1),n=i+g-1,n>e&&(n=e,i=n-g+1)):(i=(Math.ceil(t/g)-1)*g+1,n=Math.min(i+g-1,e)));for(var u=i;n>=u;u++){var v=o(u,u,s.isActive(u),!1);a.push(v)}if(r&&!x){if(i>1){var m=o(i-1,"...",!1,!1);a.unshift(m)}if(e>n){var d=o(n+1,"...",!1,!1);a.push(d)}}if(c){var $=o(t-1,P,!1,s.noPrevious());a.unshift($);var T=o(t+1,f,!1,s.noNext());a.push(T)}if(l){var b=o(1,p,!1,s.noPrevious());a.unshift(b);var A=o(e,h,!1,s.noNext());a.push(A)}return a}}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(t){return{restrict:"EA",scope:{totalItems:"="},require:["pager","?ngModel"],controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(e,a,i,n){function r(t,e,a,i,n){return{number:t,text:e,disabled:a,previous:l&&i,next:l&&n}}var o=n[0],s=n[1];if(s){var u=o.getAttributeValue(i.previousText,t.previousText,!0),g=o.getAttributeValue(i.nextText,t.nextText,!0),l=o.getAttributeValue(i.align,t.align);o.init(s,t.itemsPerPage),o.getPages=function(t){return[r(t-1,u,o.noPrevious(),!0,!1),r(t+1,g,o.noNext(),!1,!0)]}}}}}]);